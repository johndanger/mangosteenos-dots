# mangosteenOS dotfiles

mangosteenOS dotfiles managed with [chezmoi](https://www.chezmoi.io/). mangosteenOS is a Universal Blue based image with Dank Material Shell.

## Overview

| Component | Purpose |
|-----------|---------|
| **Helix** | Terminal editor (`~/.config/helix/`) — config and DMS theme |
| **Kitty** | Terminal emulator (`~/.config/kitty/`) — themes (Noctalia, Dank), tabs, and main config |
| **Mango** | Wayland compositor (`~/.config/mango/`) — binds, colors, layout, autostart, rules, and scripts (screenshot, snip) |
| **Matugen** | Material You theming (`~/.config/matugen/`) — generates theme outputs for Helix, Btop, Vesktop, Mango, Zed, Obsidian |
| **Starship** | Shell prompt (`~/.config/starship.toml`) |

## Prerequisites

- [chezmoi](https://www.chezmoi.io/install/)
- A Wayland session (for Mango)
- Optional: Oh My Zsh and the plugins referenced in external sources (see below)

## Quick start

```bash
# Initialize from this source (adjust URL/path as needed)
chezmoi init --apply <source-url-or-path>

# Or, if already cloned:
cd ~/.local/share/chezmoi-mangosteenos
chezmoi apply
```

## Repository layout

Paths under this repo map to your home directory using chezmoi’s usual rules (e.g. `dot_config/` → `~/.config/`):

```
.
├── .chezmoiexternal.toml   # External archives/repos fetched by chezmoi
├── dot_config/
│   ├── helix/             # Editor config and themes/dms.toml
│   ├── kitty/             # Terminal: main config, themes, tab styles
│   ├── mango/             # Compositor config, keybinds, colors, scripts
│   ├── matugen/           # Matugen config and templates for generated themes
│   └── starship.toml      # Prompt config
└── README.md
```

## External sources

`.chezmoiexternal.toml` tells chezmoi to fetch:

- **Oh My Zsh** — Zsh framework
- **zsh-syntax-highlighting** — Zsh plugin
- **DankMaterialShell plugins** — Latte, NightLight (under `~/.config/DankMaterialShell/plugins/`)

Run `chezmoi update` (or re-apply) to refresh these when needed.

## Theming (Matugen)

Matugen is configured to produce “DMS” (Material You) themes for:

- Helix → `~/.config/helix/themes/dms.toml`
- Btop → `~/.config/btop/themes/dms.theme`
- Vesktop → `~/.var/app/dev.vencord.Vesktop/config/vesktop/themes/dms.css`
- Mango → `~/.config/mango/colors.conf` (with `mmsg -d reload_config` post-hook)
- Zed → `~/.config/zed/themes/dms.json`
- Obsidian → `~/.config/matugen/output/obsidian.css`

Templates live in `dot_config/matugen/templates/`. Run matugen according to its own docs to regenerate after changing scheme or templates.

## Mango compositor

The `mango` config includes:

- **config.conf** — Effects, animations, and general behavior
- **bind.conf** — Keybindings
- **colors.conf** — Generated by Matugen (see above)
- **dms/** — DMS-specific layout, outputs, cursor, and extra config
- **env.conf** — Environment for started apps
- **rule.conf** — Window rules
- **executable_autostart.sh** — Autostart script
- **scripts/** — `executable_screenshot.sh`, `executable_snip.sh`

## Usage

- **Apply all dotfiles:**  
  `chezmoi apply`

- **Dry run:**  
  `chezmoi diff` or `chezmoi apply --dry-run`

- **Refresh externals:**  
  `chezmoi update`

- **Re-add changes from this machine into the repo:**  
  `chezmoi add` / `chezmoi re-add` (see chezmoi docs for workflow details).
